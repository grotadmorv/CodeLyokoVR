<head>
    <title>Code Lyoko VR</title>
    <script src="https://aframe.io/releases/0.8.2/aframe.min.js"></script>
    <script src="assets/js/aframe-super-shooter-kit.min.js"></script>
</head>

<body>
    <a-scene>
        
        <!-- all assets here -->
        <a-assets>
            <a-asset-item id="map" src="assets/map/model.dae"></a-asset-item>
            <a-asset-item id="tower" src="assets/tower/scene.gltf"></a-asset-item>
            <a-asset-item id="weapons" src="assets/odd/odd.dae"></a-asset-item>
            <a-asset-item id="arrow" src="assets/weapons/model.dae"></a-asset-item>
            <a-asset-item id="manta-obj" src="assets/manta/Manta.obj"></a-asset-item>
            <a-asset-item id="manta-mtl" src="assets/manta/Manta.mtl"></a-asset-item>
            <a-asset-item id="megatank" src="assets/megatank/model.dae"></a-asset-item>
            <a-asset-item id="block" src="assets/block/model.dae"></a-asset-item>
            <a-asset-item id="crabe" src="assets/crabe/model.dae"></a-asset-item>
            <a-asset-item id="ulrich" src="assets/ulrich/model.dae"></a-asset-item>
            <a-asset-item id="xana_key" src="assets/key_xana/model.dae" ></a-asset-item>
            <a-asset-item id="intro" response-type="arraybuffer" src="assets/song/intro.mp3" ></a-asset-item>
            <a-asset-item id="xana_song_asset" response-type="arraybuffer" src="assets/song/xana.mp3" ></a-asset-item>
        </a-assets>

        <!-- map and sound -->
        <a-collada-model src="#map"></a-collada-model>
        <a-sound src="#intro" volume="40" id="intro_song" autoplay="true" loop="true" ></a-sound>
        <a-sound src="#xana_song_asset" volume="35" id="xana_song" autoplay="false" loop="true" ></a-sound>
        <a-sound id="manta_song" ></a-sound>

        <a-gltf-model src="#tower" scale="0.1 0.08 0.1" rotation="0 180 0" position="-40 1 -17.034564105607295"></a-gltf-model>

        <!-- weapons of Odd -->
        <a-entity collada-model="#arrow" id="bulletTemplate" bullet scale="0.015 0.015 0.015"  material="color: grey" ></a-entity>

        <!-- Xana key, hit him for start the game ! -->
        <a-collada-model start-the-game class="target" target="healthPoints: 1" rotation="90 0 -190" scale="0.09 0.09 0.09" position="-39 1.4 -15" src="#xana_key" ></a-collada-model>

        <!-- Xana monster -->
        <a-obj-model hit-handler src="#manta-obj" class="target" target="healthPoints: 10" rotation="55 20 0" position="-77.70512874010862 6 82.51980536939026" mtl="#manta-mtl"></a-obj-model>
        <a-collada-model hit-handler class="target" rotation="0 180 0" target="healthPoints: 15" scale="3 3 3" position="43.500556057763575 1.1 -77.20177416561422" src="#megatank"></a-collada-model>
        <a-collada-model hit-handler class="target" rotation="0 180 0" scale="1 1 1" target="healthPoints: 15"  position="126.4202886389323 0 -36.15065118105115" src="#block"></a-collada-model>
        <a-collada-model hit-handler class="target" target="healthPoints: 15" scale="1 1 1" position="127.51253047644536 0 55.02762217530418" src="#crabe"></a-collada-model> 

    
        

        <a-entity camera="active: true" position="-39.651780239809426 1.4 -19.106626317807265" look-controls wasd-controls >
                <a-collada-model position="1 -1 -0.1" scale="3 3 3" rotation="0 0 110" src="#weapons"></a-collada-model>
                <a-entity shooter click-to-shoot position="-1 -0.4 -1" ></a-entity>
        </a-entity
    </a-scene>
    <script src="assets/js/camera-position.js"></script>
    <script src="assets/js/click-shoot.js" ></script>
    <script src="assets/js/hit-and-die.js" ></script>
    <script src="assets/js/start-the-game.js" ></script>
</body>